{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block header %}
<link rel="stylesheet" href= "{% static 'css/test.css' %}">

{% endblock header %}

{% block content %}

<style>
    .emoji{
        font-family: "Segoe UI Emoji";
    }
    #border{
        border-radius: 5px;
    }
    #card{
        background-color: #EDF5E1;
    }


</style>
<div class="row">
<aside class="col-sm-2" ">
</aside> 
<aside class="col-sm-6" id="test">
  <div class="post">


    <form method="post">
        {% csrf_token %}
        {% for field in form %}
        <p>
            <fieldset class="form-group">
              
                <textarea name="{{ field.name }}" id="id_{{ field.name }}"class="form-control" style="display: none;" placeholder="what's on your mind?"></textarea> 
                </fieldset>
                <script>
                    $(document).ready(function(){
                        $("#id_{{ field.name }}").emojioneArea({
                            pickerPosition: "bottom"
                        });
                    })
                </script>
        {% for error in field.errors %}
        <p style="color: red">{{ error }}</p>
        {% endfor %}
        </p>
        {% endfor %}
        <div class="text-right">
        <button class="btn btn-lg btn-primary text-uppercase" id="border" type="submit">Post</button>
         </div>
    </form>  
</div>


<hr>
<br>
{% for content in contents %}
<div class="card" id="card">
<div class="container-fluid">
    <div class="row">
        <div class="col-md-2">
       <center>     <img src="{{ content.author.profile.image.url }}" style="margin-top:10px;" class="rounded-circle z-depth-0"
    alt="avatar image" height="50" width="50"> </center>
        </div>
        <div class="col-md-10">
            <br>
            <a class="bg-blue" href="{% url 'profile' content.author.id %}">
            @{{ content.author.username }}</a>
            <br>
          <h4> <span class="emoji">{{ content.content }}</span></h4> 
            <p class="date">
                {{ content.posted  | timesince }} ago
            </p>
        </div>
    </div>
</div>
</div>
<br> <br>
{% endfor %}


</aside>

<aside class="col-sm-4">
</aside>
</div>

{% endblock %}

{% block js %}
<script src="{% static 'js/emojionearea.min.js' %}"></script>  
{% endblock js %}

    
    